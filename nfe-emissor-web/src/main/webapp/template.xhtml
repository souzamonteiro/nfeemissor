<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    
    <f:view locale="pt_BR">
        <h:head>
            <title>NF-e Emissor</title>
            <meta charset="UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            
            <h:outputStylesheet library="css" name="styles.css"/>
            
            <script type="text/javascript">
                function handleCommand(args) {
                    if (args && args.validationFailed) {
                        PF('dlg').show();
                    }
                }
            </script>
        </h:head>
        
        <h:body>
            <p:growl id="growl" showDetail="true" life="3000" />
            
            <p:layout fullPage="true">
                <p:layoutUnit position="north" size="60" header="NF-e Emissor" resizable="false">
                    <h:form id="menuForm">
                        <p:menubar>
                            <p:menuitem value="Início" icon="pi pi-home" outcome="index"/>
                            
                            <p:submenu label="Cadastros" icon="pi pi-fw pi-database" rendered="#{loginController.isAdmin()}">
                                <p:menuitem value="Produtos" icon="pi pi-fw pi-box" outcome="produtos"/>
                                <p:menuitem value="Clientes" icon="pi pi-fw pi-users" outcome="clientes"/>
                                <p:menuitem value="Usuários" icon="pi pi-fw pi-user" outcome="usuarios"/>
                            </p:submenu>
                            
                            <p:submenu label="Configurações" icon="pi pi-fw pi-cog" rendered="#{loginController.isAdmin()}">
                                <p:menuitem value="Empresa" icon="pi pi-fw pi-building" outcome="empresa"/>
                                <p:menuitem value="Sistema" icon="pi pi-fw pi-sliders-h" outcome="configuracao"/>
                            </p:submenu>
                            
                            <p:menuitem value="Vendas" icon="pi pi-shopping-cart" outcome="vendas"/>
                            
                            <f:facet name="options">
                                <p:outputLabel value="Bem-vindo, #{loginController.usuarioLogado.nome}" 
                                              style="margin-right: 10px;"/>
                                <p:commandButton value="Sair" icon="pi pi-power-off" 
                                               action="#{loginController.logout}"/>
                            </f:facet>
                        </p:menubar>
                    </h:form>
                </p:layoutUnit>
                
                <p:layoutUnit position="center">
                    <ui:insert name="content">Conteúdo</ui:insert>
                </p:layoutUnit>
            </p:layout>
        </h:body>
    </f:view>
</html>